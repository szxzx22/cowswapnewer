import{g as Tr}from"./@1inch-7b4035dc.js";import{f as Te,u as Cr}from"./uri.all-df61ea75.js";function qr(a,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in a)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(a,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}var Ur=function(e){for(var t=0,n=e.length,r=0,s;r<n;)t++,s=e.charCodeAt(r++),s>=55296&&s<=56319&&r<n&&(s=e.charCodeAt(r),(s&64512)==56320&&r++);return t},oe={copy:Mr,checkDataType:xe,checkDataTypes:Vr,coerceToTypes:Kr,toHash:Ce,getProperty:qe,escapeQuotes:Ue,equal:Te,ucs2length:Ur,varOccurences:Hr,varReplace:Jr,schemaHasRules:Gr,schemaHasRulesExcept:Yr,schemaUnknownRules:Zr,toQuotedString:je,getPathExpr:Wr,getPath:Xr,getData:aa,unescapeFragment:ta,unescapeJsonPointer:Ve,escapeFragment:sa,escapeJsonPointer:Me};function Mr(a,e){e=e||{};for(var t in a)e[t]=a[t];return e}function xe(a,e,t,n){var r=n?" !== ":" === ",s=n?" || ":" && ",f=n?"!":"",l=n?"":"!";switch(a){case"null":return e+r+"null";case"array":return f+"Array.isArray("+e+")";case"object":return"("+f+e+s+"typeof "+e+r+'"object"'+s+l+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+s+l+"("+e+" % 1)"+s+e+r+e+(t?s+f+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+a+'"'+(t?s+f+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+a+'"'}}function Vr(a,e,t){switch(a.length){case 1:return xe(a[0],e,t,!0);default:var n="",r=Ce(a);r.array&&r.object&&(n=r.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var s in r)n+=(n?" && ":"")+xe(s,e,t,!0);return n}}var Je=Ce(["string","number","integer","boolean","null"]);function Kr(a,e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=e[n];(Je[r]||a==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(Je[e])return[e];if(a==="array"&&e==="array")return["array"]}}function Ce(a){for(var e={},t=0;t<a.length;t++)e[a[t]]=!0;return e}var Br=/^[a-z$_][a-z$_0-9]*$/i,kr=/'|\\/g;function qe(a){return typeof a=="number"?"["+a+"]":Br.test(a)?"."+a:"['"+Ue(a)+"']"}function Ue(a){return a.replace(kr,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Hr(a,e){e+="[^0-9]";var t=a.match(new RegExp(e,"g"));return t?t.length:0}function Jr(a,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),a.replace(new RegExp(e,"g"),t+"$1")}function Gr(a,e){if(typeof a=="boolean")return!a;for(var t in a)if(e[t])return!0}function Yr(a,e,t){if(typeof a=="boolean")return!a&&t!="not";for(var n in a)if(n!=t&&e[n])return!0}function Zr(a,e){if(typeof a!="boolean"){for(var t in a)if(!e[t])return t}}function je(a){return"'"+Ue(a)+"'"}function Wr(a,e,t,n){var r=t?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return lr(a,r)}function Xr(a,e,t){var n=je(t?"/"+Me(e):qe(e));return lr(a,n)}var ea=/^\/(?:[^~]|~0|~1)*$/,ra=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function aa(a,e,t){var n,r,s,f;if(a==="")return"rootData";if(a[0]=="/"){if(!ea.test(a))throw new Error("Invalid JSON-pointer: "+a);r=a,s="rootData"}else{if(f=a.match(ra),!f)throw new Error("Invalid JSON-pointer: "+a);if(n=+f[1],r=f[2],r=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return t[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(s="data"+(e-n||""),!r)return s}for(var l=s,g=r.split("/"),m=0;m<g.length;m++){var v=g[m];v&&(s+=qe(Ve(v)),l+=" && "+s)}return l}function lr(a,e){return a=='""'?e:(a+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function ta(a){return Ve(decodeURIComponent(a))}function sa(a){return encodeURIComponent(Me(a))}function Me(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}function Ve(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}var oa=oe,nr=la;function la(a){oa.copy(a,this)}var ir={exports:{}},Z=ir.exports=function(a,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};pe(e,n,r,a,"",a)};Z.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Z.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Z.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Z.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function pe(a,e,t,n,r,s,f,l,g,m){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,r,s,f,l,g,m);for(var v in n){var h=n[v];if(Array.isArray(h)){if(v in Z.arrayKeywords)for(var c=0;c<h.length;c++)pe(a,e,t,h[c],r+"/"+v+"/"+c,s,r,v,n,c)}else if(v in Z.propsKeywords){if(h&&typeof h=="object")for(var o in h)pe(a,e,t,h[o],r+"/"+v+"/"+na(o),s,r,v,n,o)}else(v in Z.keywords||a.allKeys&&!(v in Z.skipKeywords))&&pe(a,e,t,h,r+"/"+v,s,r,v,n)}t(n,r,s,f,l,g,m)}}function na(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}var ia=ir.exports,fe=Cr,Ge=Te,Se=oe,ge=nr,fa=ia,Ke=X;X.normalizeId=W;X.fullPath=Pe;X.url=ye;X.ids=da;X.inlineRef=Ae;X.schema=$e;function X(a,e,t){var n=this._refs[t];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return X.call(this,a,e,n);if(n=n||this._schemas[t],n instanceof ge)return Ae(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var r=$e.call(this,e,t),s,f,l;return r&&(s=r.schema,e=r.root,l=r.baseId),s instanceof ge?f=s.validate||a.call(this,s.schema,e,void 0,l):s!==void 0&&(f=Ae(s,this._opts.inlineRefs)?s:a.call(this,s,e,void 0,l)),f}function $e(a,e){var t=fe.parse(e),n=ur(t),r=Pe(this._getId(a.schema));if(Object.keys(a.schema).length===0||n!==r){var s=W(n),f=this._refs[s];if(typeof f=="string")return ua.call(this,a,f,t);if(f instanceof ge)f.validate||this._compile(f),a=f;else if(f=this._schemas[s],f instanceof ge){if(f.validate||this._compile(f),s==W(e))return{schema:f,root:a,baseId:r};a=f}else return;if(!a.schema)return;r=Pe(this._getId(a.schema))}return fr.call(this,t,r,a.schema,a)}function ua(a,e,t){var n=$e.call(this,a,e);if(n){var r=n.schema,s=n.baseId;a=n.root;var f=this._getId(r);return f&&(s=ye(s,f)),fr.call(this,t,s,r,a)}}var ha=Se.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function fr(a,e,t,n){if(a.fragment=a.fragment||"",a.fragment.slice(0,1)=="/"){for(var r=a.fragment.split("/"),s=1;s<r.length;s++){var f=r[s];if(f){if(f=Se.unescapeFragment(f),t=t[f],t===void 0)break;var l;if(!ha[f]&&(l=this._getId(t),l&&(e=ye(e,l)),t.$ref)){var g=ye(e,t.$ref),m=$e.call(this,n,g);m&&(t=m.schema,n=m.root,e=m.baseId)}}}if(t!==void 0&&t!==n.schema)return{schema:t,root:n,baseId:e}}}var ca=Se.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Ae(a,e){if(e===!1)return!1;if(e===void 0||e===!0)return Le(a);if(e)return Qe(a)<=e}function Le(a){var e;if(Array.isArray(a)){for(var t=0;t<a.length;t++)if(e=a[t],typeof e=="object"&&!Le(e))return!1}else for(var n in a)if(n=="$ref"||(e=a[n],typeof e=="object"&&!Le(e)))return!1;return!0}function Qe(a){var e=0,t;if(Array.isArray(a)){for(var n=0;n<a.length;n++)if(t=a[n],typeof t=="object"&&(e+=Qe(t)),e==1/0)return 1/0}else for(var r in a){if(r=="$ref")return 1/0;if(ca[r])e++;else if(t=a[r],typeof t=="object"&&(e+=Qe(t)+1),e==1/0)return 1/0}return e}function Pe(a,e){e!==!1&&(a=W(a));var t=fe.parse(a);return ur(t)}function ur(a){return fe.serialize(a).split("#")[0]+"#"}var va=/#\/?$/;function W(a){return a?a.replace(va,""):""}function ye(a,e){return e=W(e),fe.resolve(a,e)}function da(a){var e=W(this._getId(a)),t={"":e},n={"":Pe(e,!1)},r={},s=this;return fa(a,{allKeys:!0},function(f,l,g,m,v,h,c){if(l!==""){var o=s._getId(f),i=t[m],d=n[m]+"/"+v;if(c!==void 0&&(d+="/"+(typeof c=="number"?c:Se.escapeFragment(c))),typeof o=="string"){o=i=W(i?fe.resolve(i,o):o);var u=s._refs[o];if(typeof u=="string"&&(u=s._refs[u]),u&&u.schema){if(!Ge(f,u.schema))throw new Error('id "'+o+'" resolves to more than one schema')}else if(o!=W(d))if(o[0]=="#"){if(r[o]&&!Ge(f,r[o]))throw new Error('id "'+o+'" resolves to more than one schema');r[o]=f}else s._refs[o]=d}t[l]=i,n[l]=d}}),r}var De=Ke,Be={Validation:Ye(ma),MissingRef:Ye(ke)};function ma(a){this.message="validation failed",this.errors=a,this.ajv=this.validation=!0}ke.message=function(a,e){return"can't resolve reference "+e+" from id "+a};function ke(a,e,t){this.message=t||ke.message(a,e),this.missingRef=De.url(a,e),this.missingSchema=De.normalizeId(De.fullPath(this.missingRef))}function Ye(a){return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}var hr=function(a,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(s){return function(f){return function(l,g){var m={key:l,value:f[l]},v={key:g,value:f[g]};return s(m,v)}}}(e.cmp),r=[];return function s(f){if(f&&f.toJSON&&typeof f.toJSON=="function"&&(f=f.toJSON()),f!==void 0){if(typeof f=="number")return isFinite(f)?""+f:"null";if(typeof f!="object")return JSON.stringify(f);var l,g;if(Array.isArray(f)){for(g="[",l=0;l<f.length;l++)l&&(g+=","),g+=s(f[l])||"null";return g+"]"}if(f===null)return"null";if(r.indexOf(f)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var m=r.push(f)-1,v=Object.keys(f).sort(n&&n(f));for(g="",l=0;l<v.length;l++){var h=v[l],c=s(f[h]);c&&(g&&(g+=","),g+=JSON.stringify(h)+":"+c)}return r.splice(m,1),"{"+g+"}"}}(a)},cr=function(e,t,n){var r="",s=e.schema.$async===!0,f=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.opts.strictKeywords){var g=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(g){var m="unknown keyword: "+g;if(e.opts.strictKeywords==="log")e.logger.warn(m);else throw new Error(m)}}if(e.isTop&&(r+=" var validate = ",s&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+l+" */")+" ")),typeof e.schema=="boolean"||!(f||e.schema.$ref)){var t="false schema",v=e.level,h=e.dataLevel,c=e.schema[t],o=e.schemaPath+e.util.getProperty(t),i=e.errSchemaPath+"/"+t,$=!e.opts.allErrors,F,d="data"+(h||""),b="valid"+v;if(e.schema===!1){e.isTop?$=!0:r+=" var "+b+" = false; ";var u=u||[];u.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(i)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var p=r;r=u.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+b+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var S=e.isTop,v=e.level=0,h=e.dataLevel=0,d="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var P="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(P);else throw new Error(P)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var v=e.level,h=e.dataLevel,d="data"+(h||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),s&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+v+" = errors;"}var b="valid"+v,$=!e.opts.allErrors,w="",D="",F,_=e.schema.type,O=Array.isArray(_);if(_&&e.opts.nullable&&e.schema.nullable===!0&&(O?_.indexOf("null")==-1&&(_=_.concat("null")):_!="null"&&(_=[_,"null"],O=!0)),O&&_.length==1&&(_=_[0],O=!1),e.schema.$ref&&f){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(f=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),_){if(e.opts.coerceTypes)var I=e.util.coerceToTypes(e.opts.coerceTypes,_);var R=e.RULES.types[_];if(I||O||R===!0||R&&!V(R)){var o=e.schemaPath+".type",i=e.errSchemaPath+"/type",o=e.schemaPath+".type",i=e.errSchemaPath+"/type",E=O?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[E](_,d,e.opts.strictNumbers,!0)+") { ",I){var y="dataType"+v,x="coerced"+v;r+=" var "+y+" = typeof "+d+"; var "+x+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+y+" == 'object' && Array.isArray("+d+") && "+d+".length == 1) { "+d+" = "+d+"[0]; "+y+" = typeof "+d+"; if ("+e.util.checkDataType(e.schema.type,d,e.opts.strictNumbers)+") "+x+" = "+d+"; } "),r+=" if ("+x+" !== undefined) ; ";var z=I;if(z)for(var L,Q=-1,A=z.length-1;Q<A;)L=z[Q+=1],L=="string"?r+=" else if ("+y+" == 'number' || "+y+" == 'boolean') "+x+" = '' + "+d+"; else if ("+d+" === null) "+x+" = ''; ":L=="number"||L=="integer"?(r+=" else if ("+y+" == 'boolean' || "+d+" === null || ("+y+" == 'string' && "+d+" && "+d+" == +"+d+" ",L=="integer"&&(r+=" && !("+d+" % 1)"),r+=")) "+x+" = +"+d+"; "):L=="boolean"?r+=" else if ("+d+" === 'false' || "+d+" === 0 || "+d+" === null) "+x+" = false; else if ("+d+" === 'true' || "+d+" === 1) "+x+" = true; ":L=="null"?r+=" else if ("+d+" === '' || "+d+" === 0 || "+d+" === false) "+x+" = null; ":e.opts.coerceTypes=="array"&&L=="array"&&(r+=" else if ("+y+" == 'string' || "+y+" == 'number' || "+y+" == 'boolean' || "+d+" == null) "+x+" = ["+d+"]; ");r+=" else {   ";var u=u||[];u.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(i)+" , params: { type: '",O?r+=""+_.join(","):r+=""+_,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",O?r+=""+_.join(","):r+=""+_,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var p=r;r=u.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+x+" !== undefined) {  ";var j=h?"data"+(h-1||""):"parentData",U=h?e.dataPathArr[h]:"parentDataProperty";r+=" "+d+" = "+x+"; ",h||(r+="if ("+j+" !== undefined)"),r+=" "+j+"["+U+"] = "+x+"; } "}else{var u=u||[];u.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(i)+" , params: { type: '",O?r+=""+_.join(","):r+=""+_,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",O?r+=""+_.join(","):r+=""+_,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var p=r;r=u.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!f)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",$&&(r+=" } if (errors === ",S?r+="0":r+="errs_"+v,r+=") { ",D+="}");else{var K=e.RULES;if(K){for(var R,k=-1,N=K.length-1;k<N;)if(R=K[k+=1],V(R)){if(R.type&&(r+=" if ("+e.util.checkDataType(R.type,d,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(R.type=="object"&&e.schema.properties){var c=e.schema.properties,ee=Object.keys(c),re=ee;if(re)for(var G,ue=-1,le=re.length-1;ue<le;){G=re[ue+=1];var M=c[G];if(M.default!==void 0){var q=d+e.util.getProperty(G);if(e.compositeRule){if(e.opts.strictDefaults){var P="default is ignored for: "+q;if(e.opts.strictDefaults==="log")e.logger.warn(P);else throw new Error(P)}}else r+=" if ("+q+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+q+" === null || "+q+" === '' "),r+=" ) "+q+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(M.default)+" ":r+=" "+JSON.stringify(M.default)+" ",r+="; "}}}else if(R.type=="array"&&Array.isArray(e.schema.items)){var ne=e.schema.items;if(ne){for(var M,Q=-1,B=ne.length-1;Q<B;)if(M=ne[Q+=1],M.default!==void 0){var q=d+"["+Q+"]";if(e.compositeRule){if(e.opts.strictDefaults){var P="default is ignored for: "+q;if(e.opts.strictDefaults==="log")e.logger.warn(P);else throw new Error(P)}}else r+=" if ("+q+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+q+" === null || "+q+" === '' "),r+=" ) "+q+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(M.default)+" ":r+=" "+JSON.stringify(M.default)+" ",r+="; "}}}}var C=R.rules;if(C){for(var te,se=-1,he=C.length-1;se<he;)if(te=C[se+=1],ie(te)){var ce=te.code(e,te.keyword,R.type);ce&&(r+=" "+ce+" ",$&&(w+="}"))}}if($&&(r+=" "+w+" ",w=""),R.type&&(r+=" } ",_&&_===R.type&&!I)){r+=" else { ";var o=e.schemaPath+".type",i=e.errSchemaPath+"/type",u=u||[];u.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(i)+" , params: { type: '",O?r+=""+_.join(","):r+=""+_,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",O?r+=""+_.join(","):r+=""+_,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var p=r;r=u.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}$&&(r+=" if (errors === ",S?r+="0":r+="errs_"+v,r+=") { ",D+="}")}}}$&&(r+=" "+D+" "),S?(s?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+b+" = errors === errs_"+v+";";function V(H){for(var Y=H.rules,J=0;J<Y.length;J++)if(ie(Y[J]))return!0}function ie(H){return e.schema[H.keyword]!==void 0||H.implements&&Re(H)}function Re(H){for(var Y=H.implements,J=0;J<Y.length;J++)if(e.schema[Y[J]]!==void 0)return!0}return r},ve=Ke,Ee=oe,vr=Be,pa=hr,Ze=cr,ga=Ee.ucs2length,Pa=Te,ya=vr.Validation,Ea=ze;function ze(a,e,t,n){var r=this,s=this._opts,f=[void 0],l={},g=[],m={},v=[],h={},c=[];e=e||{schema:a,refVal:f,refs:l};var o=ba.call(this,a,e,n),i=this._compilations[o.index];if(o.compiling)return i.callValidate=P;var d=this._formats,u=this.RULES;try{var p=b(a,e,t,n);i.validate=p;var S=i.callValidate;return S&&(S.schema=p.schema,S.errors=null,S.refs=p.refs,S.refVal=p.refVal,S.root=p.root,S.$async=p.$async,s.sourceCode&&(S.source=p.source)),p}finally{Sa.call(this,a,e,n)}function P(){var E=i.validate,y=E.apply(this,arguments);return P.errors=E.errors,y}function b(E,y,x,z){var L=!y||y&&y.schema==E;if(y.schema!=e.schema)return ze.call(r,E,y,x,z);var Q=E.$async===!0,A=Ze({isTop:!0,schema:E,isRoot:L,baseId:z,root:y,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:vr.MissingRef,RULES:u,validate:Ze,util:Ee,resolve:ve,resolveRef:$,usePattern:O,useDefault:I,useCustomRule:R,opts:s,formats:d,logger:r.logger,self:r});A=de(f,_a)+de(g,$a)+de(v,wa)+de(c,Fa)+A,s.processCode&&(A=s.processCode(A,E));var j;try{var U=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",A);j=U(r,u,d,e,f,v,c,Pa,ga,ya),f[0]=j}catch(K){throw r.logger.error("Error compiling schema, function code:",A),K}return j.schema=E,j.errors=null,j.refs=l,j.refVal=f,j.root=L?j:y,Q&&(j.$async=!0),s.sourceCode===!0&&(j.source={code:A,patterns:g,defaults:v}),j}function $(E,y,x){y=ve.url(E,y);var z=l[y],L,Q;if(z!==void 0)return L=f[z],Q="refVal["+z+"]",_(L,Q);if(!x&&e.refs){var A=e.refs[y];if(A!==void 0)return L=e.refVal[A],Q=w(y,L),_(L,Q)}Q=w(y);var j=ve.call(r,b,e,y);if(j===void 0){var U=t&&t[y];U&&(j=ve.inlineRef(U,s.inlineRefs)?U:ze.call(r,U,e,t,E))}if(j===void 0)D(y);else return F(y,j),_(j,Q)}function w(E,y){var x=f.length;return f[x]=y,l[E]=x,"refVal"+x}function D(E){delete l[E]}function F(E,y){var x=l[E];f[x]=y}function _(E,y){return typeof E=="object"||typeof E=="boolean"?{code:y,schema:E,inline:!0}:{code:y,$async:E&&!!E.$async}}function O(E){var y=m[E];return y===void 0&&(y=m[E]=g.length,g[y]=E),"pattern"+y}function I(E){switch(typeof E){case"boolean":case"number":return""+E;case"string":return Ee.toQuotedString(E);case"object":if(E===null)return"null";var y=pa(E),x=h[y];return x===void 0&&(x=h[y]=v.length,v[x]=E),"default"+x}}function R(E,y,x,z){if(r._opts.validateSchema!==!1){var L=E.definition.dependencies;if(L&&!L.every(function(re){return Object.prototype.hasOwnProperty.call(x,re)}))throw new Error("parent schema must have all required keywords: "+L.join(","));var Q=E.definition.validateSchema;if(Q){var A=Q(y);if(!A){var j="keyword schema is invalid: "+r.errorsText(Q.errors);if(r._opts.validateSchema=="log")r.logger.error(j);else throw new Error(j)}}}var U=E.definition.compile,K=E.definition.inline,k=E.definition.macro,N;if(U)N=U.call(r,y,x,z);else if(k)N=k.call(r,y,x,z),s.validateSchema!==!1&&r.validateSchema(N,!0);else if(K)N=K.call(r,z,E.keyword,y,x);else if(N=E.definition.validate,!N)return;if(N===void 0)throw new Error('custom keyword "'+E.keyword+'"failed to compile');var ee=c.length;return c[ee]=N,{code:"customRule"+ee,validate:N}}}function ba(a,e,t){var n=dr.call(this,a,e,t);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:a,root:e,baseId:t},{index:n,compiling:!1})}function Sa(a,e,t){var n=dr.call(this,a,e,t);n>=0&&this._compilations.splice(n,1)}function dr(a,e,t){for(var n=0;n<this._compilations.length;n++){var r=this._compilations[n];if(r.schema==a&&r.root==e&&r.baseId==t)return n}return-1}function $a(a,e){return"var pattern"+a+" = new RegExp("+Ee.toQuotedString(e[a])+");"}function wa(a){return"var default"+a+" = defaults["+a+"];"}function _a(a,e){return e[a]===void 0?"":"var refVal"+a+" = refVal["+a+"];"}function Fa(a){return"var customRule"+a+" = customRules["+a+"];"}function de(a,e){if(!a.length)return"";for(var t="",n=0;n<a.length;n++)t+=e(n,a);return t}var mr={exports:{}},we=mr.exports=function(){this._cache={}};we.prototype.put=function(e,t){this._cache[e]=t};we.prototype.get=function(e){return this._cache[e]};we.prototype.del=function(e){delete this._cache[e]};we.prototype.clear=function(){this._cache={}};var Ra=mr.exports,Da=oe,Oa=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Ia=[0,31,28,31,30,31,30,31,31,30,31,30,31],xa=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,pr=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ja=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Aa=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,gr=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Pr=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,yr=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Er=/^(?:\/(?:[^~/]|~0|~1)*)*$/,br=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Sr=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,La=_e;function _e(a){return a=a=="full"?"full":"fast",Da.copy(_e[a])}_e.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":gr,url:Pr,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:pr,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_r,uuid:yr,"json-pointer":Er,"json-pointer-uri-fragment":br,"relative-json-pointer":Sr};_e.full={date:$r,time:wr,"date-time":Na,uri:Ca,"uri-reference":Aa,"uri-template":gr,url:Pr,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:pr,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_r,uuid:yr,"json-pointer":Er,"json-pointer-uri-fragment":br,"relative-json-pointer":Sr};function Qa(a){return a%4===0&&(a%100!==0||a%400===0)}function $r(a){var e=a.match(Oa);if(!e)return!1;var t=+e[1],n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(n==2&&Qa(t)?29:Ia[n])}function wr(a,e){var t=a.match(xa);if(!t)return!1;var n=t[1],r=t[2],s=t[3],f=t[5];return(n<=23&&r<=59&&s<=59||n==23&&r==59&&s==60)&&(!e||f)}var za=/t|\s/i;function Na(a){var e=a.split(za);return e.length==2&&$r(e[0])&&wr(e[1],!0)}var Ta=/\/|:/;function Ca(a){return Ta.test(a)&&ja.test(a)}var qa=/[^\\]\\Z/;function _r(a){if(qa.test(a))return!1;try{return new RegExp(a),!0}catch{return!1}}var Ua=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(f||""),h="valid"+s,c,o;if(l=="#"||l=="#/")e.isRoot?(c=e.async,o="validate"):(c=e.root.schema.$async===!0,o="root.refVal[0]");else{var i=e.resolveRef(e.baseId,l,e.isRoot);if(i===void 0){var d=e.MissingRefError.message(e.baseId,l);if(e.opts.missingRefs=="fail"){e.logger.error(d);var u=u||[];u.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var p=r;r=u.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(d),m&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,l,d)}else if(i.inline){var S=e.util.copy(e);S.level++;var P="valid"+S.level;S.schema=i.schema,S.schemaPath="",S.errSchemaPath=l;var b=e.validate(S).replace(/validate\.schema/g,i.code);r+=" "+b+" ",m&&(r+=" if ("+P+") { ")}else c=i.$async===!0||e.async&&i.$async!==!1,o=i.code}if(o){var u=u||[];u.push(r),r="",e.opts.passContext?r+=" "+o+".call(this, ":r+=" "+o+"( ",r+=" "+v+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var $=f?"data"+(f-1||""):"parentData",w=f?e.dataPathArr[f]:"parentDataProperty";r+=" , "+$+" , "+w+", rootData)  ";var D=r;if(r=u.pop(),c){if(!e.async)throw new Error("async schema referenced by sync schema");m&&(r+=" var "+h+"; "),r+=" try { await "+D+"; ",m&&(r+=" "+h+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",m&&(r+=" "+h+" = false; "),r+=" } ",m&&(r+=" if ("+h+") { ")}else r+=" if (!"+D+") { if (vErrors === null) vErrors = "+o+".errors; else vErrors = vErrors.concat("+o+".errors); errors = vErrors.length; } ",m&&(r+=" else { ")}return r},Ma=function(e,t,n){var r=" ",s=e.schema[t],f=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,g=!e.opts.allErrors,m=e.util.copy(e),v="";m.level++;var h="valid"+m.level,c=m.baseId,o=!0,i=s;if(i)for(var d,u=-1,p=i.length-1;u<p;)d=i[u+=1],(e.opts.strictKeywords?typeof d=="object"&&Object.keys(d).length>0||d===!1:e.util.schemaHasRules(d,e.RULES.all))&&(o=!1,m.schema=d,m.schemaPath=f+"["+u+"]",m.errSchemaPath=l+"/"+u,r+="  "+e.validate(m)+" ",m.baseId=c,g&&(r+=" if ("+h+") { ",v+="}"));return g&&(o?r+=" if (true) { ":r+=" "+v.slice(0,-1)+" "),r},Va=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="valid"+s,o="errs__"+s,i=e.util.copy(e),d="";i.level++;var u="valid"+i.level,p=l.every(function(F){return e.opts.strictKeywords?typeof F=="object"&&Object.keys(F).length>0||F===!1:e.util.schemaHasRules(F,e.RULES.all)});if(p){var S=i.baseId;r+=" var "+o+" = errors; var "+c+" = false;  ";var P=e.compositeRule;e.compositeRule=i.compositeRule=!0;var b=l;if(b)for(var $,w=-1,D=b.length-1;w<D;)$=b[w+=1],i.schema=$,i.schemaPath=g+"["+w+"]",i.errSchemaPath=m+"/"+w,r+="  "+e.validate(i)+" ",i.baseId=S,r+=" "+c+" = "+c+" || "+u+"; if (!"+c+") { ",d+="}";e.compositeRule=i.compositeRule=P,r+=" "+d+" if (!"+c+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+o+"; if (vErrors !== null) { if ("+o+") vErrors.length = "+o+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else v&&(r+=" if (true) { ");return r},Ka=function(e,t,n){var r=" ",s=e.schema[t],f=e.errSchemaPath+"/"+t;e.opts.allErrors;var l=e.util.toQuotedString(s);return e.opts.$comment===!0?r+=" console.log("+l+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+l+", "+e.util.toQuotedString(f)+", validate.root.schema);"),r},Ba=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="valid"+s,o=e.opts.$data&&l&&l.$data;o&&(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; "),o||(r+=" var schema"+s+" = validate.schema"+g+";"),r+="var "+c+" = equal("+h+", schema"+s+"); if (!"+c+") {   ";var i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { allowedValue: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var d=r;return r=i.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+d+"]); ":r+=" validate.errors = ["+d+"]; return false; ":r+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",v&&(r+=" else { "),r},ka=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="valid"+s,o="errs__"+s,i=e.util.copy(e),d="";i.level++;var u="valid"+i.level,p="i"+s,S=i.dataLevel=e.dataLevel+1,P="data"+S,b=e.baseId,$=e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all);if(r+="var "+o+" = errors;var "+c+";",$){var w=e.compositeRule;e.compositeRule=i.compositeRule=!0,i.schema=l,i.schemaPath=g,i.errSchemaPath=m,r+=" var "+u+" = false; for (var "+p+" = 0; "+p+" < "+h+".length; "+p+"++) { ",i.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var D=h+"["+p+"]";i.dataPathArr[S]=p;var F=e.validate(i);i.baseId=b,e.util.varOccurences(F,P)<2?r+=" "+e.util.varReplace(F,P,D)+" ":r+=" var "+P+" = "+D+"; "+F+" ",r+=" if ("+u+") break; }  ",e.compositeRule=i.compositeRule=w,r+=" "+d+" if (!"+u+") {"}else r+=" if ("+h+".length == 0) {";var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var O=r;return r=_.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",$&&(r+="  errors = "+o+"; if (vErrors !== null) { if ("+o+") vErrors.length = "+o+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},Ha=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="errs__"+s,o=e.util.copy(e),i="";o.level++;var d="valid"+o.level,u={},p={},S=e.opts.ownProperties;for(w in l)if(w!="__proto__"){var P=l[w],b=Array.isArray(P)?p:u;b[w]=P}r+="var "+c+" = errors;";var $=e.errorPath;r+="var missing"+s+";";for(var w in p)if(b=p[w],b.length){if(r+=" if ( "+h+e.util.getProperty(w)+" !== undefined ",S&&(r+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(w)+"') "),v){r+=" && ( ";var D=b;if(D)for(var F,_=-1,O=D.length-1;_<O;){F=D[_+=1],_&&(r+=" || ");var I=e.util.getProperty(F),R=h+I;r+=" ( ( "+R+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(F)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?F:I)+") ) "}r+=")) {  ";var E="missing"+s,y="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr($,E,!0):$+" + "+E);var x=x||[];x.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+y+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(b.length==1?b[0]:b.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",b.length==1?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var z=r;r=x.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+z+"]); ":r+=" validate.errors = ["+z+"]; return false; ":r+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var L=b;if(L)for(var F,Q=-1,A=L.length-1;Q<A;){F=L[Q+=1];var I=e.util.getProperty(F),y=e.util.escapeQuotes(F),R=h+I;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath($,F,e.opts.jsonPointers)),r+=" if ( "+R+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(F)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+y+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(b.length==1?b[0]:b.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",b.length==1?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",v&&(i+="}",r+=" else { ")}e.errorPath=$;var j=o.baseId;for(var w in u){var P=u[w];(e.opts.strictKeywords?typeof P=="object"&&Object.keys(P).length>0||P===!1:e.util.schemaHasRules(P,e.RULES.all))&&(r+=" "+d+" = true; if ( "+h+e.util.getProperty(w)+" !== undefined ",S&&(r+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(w)+"') "),r+=") { ",o.schema=P,o.schemaPath=g+e.util.getProperty(w),o.errSchemaPath=m+"/"+e.util.escapeFragment(w),r+="  "+e.validate(o)+" ",o.baseId=j,r+=" }  ",v&&(r+=" if ("+d+") { ",i+="}"))}return v&&(r+="   "+i+" if ("+c+" == errors) {"),r},Ja=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="valid"+s,o=e.opts.$data&&l&&l.$data;o&&(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ");var i="i"+s,d="schema"+s;o||(r+=" var "+d+" = validate.schema"+g+";"),r+="var "+c+";",o&&(r+=" if (schema"+s+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+s+")) "+c+" = false; else {"),r+=""+c+" = false;for (var "+i+"=0; "+i+"<"+d+".length; "+i+"++) if (equal("+h+", "+d+"["+i+"])) { "+c+" = true; break; }",o&&(r+="  }  "),r+=" if (!"+c+") {   ";var u=u||[];u.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;return r=u.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",v&&(r+=" else { "),r},Ga=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||"");if(e.opts.format===!1)return v&&(r+=" if (true) { "),r;var c=e.opts.$data&&l&&l.$data,o;c?(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ",o="schema"+s):o=l;var i=e.opts.unknownFormats,d=Array.isArray(i);if(c){var u="format"+s,p="isObject"+s,S="formatType"+s;r+=" var "+u+" = formats["+o+"]; var "+p+" = typeof "+u+" == 'object' && !("+u+" instanceof RegExp) && "+u+".validate; var "+S+" = "+p+" && "+u+".type || 'string'; if ("+p+") { ",e.async&&(r+=" var async"+s+" = "+u+".async; "),r+=" "+u+" = "+u+".validate; } if (  ",c&&(r+=" ("+o+" !== undefined && typeof "+o+" != 'string') || "),r+=" (",i!="ignore"&&(r+=" ("+o+" && !"+u+" ",d&&(r+=" && self._opts.unknownFormats.indexOf("+o+") == -1 "),r+=") || "),r+=" ("+u+" && "+S+" == '"+n+"' && !(typeof "+u+" == 'function' ? ",e.async?r+=" (async"+s+" ? await "+u+"("+h+") : "+u+"("+h+")) ":r+=" "+u+"("+h+") ",r+=" : "+u+".test("+h+"))))) {"}else{var u=e.formats[l];if(!u){if(i=="ignore")return e.logger.warn('unknown format "'+l+'" ignored in schema at path "'+e.errSchemaPath+'"'),v&&(r+=" if (true) { "),r;if(d&&i.indexOf(l)>=0)return v&&(r+=" if (true) { "),r;throw new Error('unknown format "'+l+'" is used in schema at path "'+e.errSchemaPath+'"')}var p=typeof u=="object"&&!(u instanceof RegExp)&&u.validate,S=p&&u.type||"string";if(p){var P=u.async===!0;u=u.validate}if(S!=n)return v&&(r+=" if (true) { "),r;if(P){if(!e.async)throw new Error("async format in sync schema");var b="formats"+e.util.getProperty(l)+".validate";r+=" if (!(await "+b+"("+h+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(l);p&&(b+=".validate"),typeof u=="function"?r+=" "+b+"("+h+") ":r+=" "+b+".test("+h+") ",r+=") { "}}var $=$||[];$.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { format:  ",c?r+=""+o:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,c?r+="' + "+o+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",c?r+="validate.schema"+g:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var w=r;return r=$.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",v&&(r+=" else { "),r},Ya=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="valid"+s,o="errs__"+s,i=e.util.copy(e);i.level++;var d="valid"+i.level,u=e.schema.then,p=e.schema.else,S=u!==void 0&&(e.opts.strictKeywords?typeof u=="object"&&Object.keys(u).length>0||u===!1:e.util.schemaHasRules(u,e.RULES.all)),P=p!==void 0&&(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all)),b=i.baseId;if(S||P){var $;i.createErrors=!1,i.schema=l,i.schemaPath=g,i.errSchemaPath=m,r+=" var "+o+" = errors; var "+c+" = true;  ";var w=e.compositeRule;e.compositeRule=i.compositeRule=!0,r+="  "+e.validate(i)+" ",i.baseId=b,i.createErrors=!0,r+="  errors = "+o+"; if (vErrors !== null) { if ("+o+") vErrors.length = "+o+"; else vErrors = null; }  ",e.compositeRule=i.compositeRule=w,S?(r+=" if ("+d+") {  ",i.schema=e.schema.then,i.schemaPath=e.schemaPath+".then",i.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(i)+" ",i.baseId=b,r+=" "+c+" = "+d+"; ",S&&P?($="ifClause"+s,r+=" var "+$+" = 'then'; "):$="'then'",r+=" } ",P&&(r+=" else { ")):r+=" if (!"+d+") { ",P&&(i.schema=e.schema.else,i.schemaPath=e.schemaPath+".else",i.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(i)+" ",i.baseId=b,r+=" "+c+" = "+d+"; ",S&&P?($="ifClause"+s,r+=" var "+$+" = 'else'; "):$="'else'",r+=" } "),r+=" if (!"+c+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { failingKeyword: "+$+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+$+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",v&&(r+=" else { ")}else v&&(r+=" if (true) { ");return r},Za=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="valid"+s,o="errs__"+s,i=e.util.copy(e),d="";i.level++;var u="valid"+i.level,p="i"+s,S=i.dataLevel=e.dataLevel+1,P="data"+S,b=e.baseId;if(r+="var "+o+" = errors;var "+c+";",Array.isArray(l)){var $=e.schema.additionalItems;if($===!1){r+=" "+c+" = "+h+".length <= "+l.length+"; ";var w=m;m=e.errSchemaPath+"/additionalItems",r+="  if (!"+c+") {   ";var D=D||[];D.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+l.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+l.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var F=r;r=D.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m=w,v&&(d+="}",r+=" else { ")}var _=l;if(_){for(var O,I=-1,R=_.length-1;I<R;)if(O=_[I+=1],e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all)){r+=" "+u+" = true; if ("+h+".length > "+I+") { ";var E=h+"["+I+"]";i.schema=O,i.schemaPath=g+"["+I+"]",i.errSchemaPath=m+"/"+I,i.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0),i.dataPathArr[S]=I;var y=e.validate(i);i.baseId=b,e.util.varOccurences(y,P)<2?r+=" "+e.util.varReplace(y,P,E)+" ":r+=" var "+P+" = "+E+"; "+y+" ",r+=" }  ",v&&(r+=" if ("+u+") { ",d+="}")}}if(typeof $=="object"&&(e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:e.util.schemaHasRules($,e.RULES.all))){i.schema=$,i.schemaPath=e.schemaPath+".additionalItems",i.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+u+" = true; if ("+h+".length > "+l.length+") {  for (var "+p+" = "+l.length+"; "+p+" < "+h+".length; "+p+"++) { ",i.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var E=h+"["+p+"]";i.dataPathArr[S]=p;var y=e.validate(i);i.baseId=b,e.util.varOccurences(y,P)<2?r+=" "+e.util.varReplace(y,P,E)+" ":r+=" var "+P+" = "+E+"; "+y+" ",v&&(r+=" if (!"+u+") break; "),r+=" } }  ",v&&(r+=" if ("+u+") { ",d+="}")}}else if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){i.schema=l,i.schemaPath=g,i.errSchemaPath=m,r+="  for (var "+p+" = 0; "+p+" < "+h+".length; "+p+"++) { ",i.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var E=h+"["+p+"]";i.dataPathArr[S]=p;var y=e.validate(i);i.baseId=b,e.util.varOccurences(y,P)<2?r+=" "+e.util.varReplace(y,P,E)+" ":r+=" var "+P+" = "+E+"; "+y+" ",v&&(r+=" if (!"+u+") break; "),r+=" }"}return v&&(r+=" "+d+" if ("+o+" == errors) {"),r},We=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,b,h="data"+(f||""),c=e.opts.$data&&l&&l.$data,o;c?(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ",o="schema"+s):o=l;var i=t=="maximum",d=i?"exclusiveMaximum":"exclusiveMinimum",u=e.schema[d],p=e.opts.$data&&u&&u.$data,S=i?"<":">",P=i?">":"<",b=void 0;if(!(c||typeof l=="number"||l===void 0))throw new Error(t+" must be number");if(!(p||u===void 0||typeof u=="number"||typeof u=="boolean"))throw new Error(d+" must be number or boolean");if(p){var $=e.util.getData(u.$data,f,e.dataPathArr),w="exclusive"+s,D="exclType"+s,F="exclIsNumber"+s,_="op"+s,O="' + "+_+" + '";r+=" var schemaExcl"+s+" = "+$+"; ",$="schemaExcl"+s,r+=" var "+w+"; var "+D+" = typeof "+$+"; if ("+D+" != 'boolean' && "+D+" != 'undefined' && "+D+" != 'number') { ";var b=d,I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+d+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var R=r;r=I.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",c&&(r+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),r+=" "+D+" == 'number' ? ( ("+w+" = "+o+" === undefined || "+$+" "+S+"= "+o+") ? "+h+" "+P+"= "+$+" : "+h+" "+P+" "+o+" ) : ( ("+w+" = "+$+" === true) ? "+h+" "+P+"= "+o+" : "+h+" "+P+" "+o+" ) || "+h+" !== "+h+") { var op"+s+" = "+w+" ? '"+S+"' : '"+S+"='; ",l===void 0&&(b=d,m=e.errSchemaPath+"/"+d,o=$,c=p)}else{var F=typeof u=="number",O=S;if(F&&c){var _="'"+O+"'";r+=" if ( ",c&&(r+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),r+=" ( "+o+" === undefined || "+u+" "+S+"= "+o+" ? "+h+" "+P+"= "+u+" : "+h+" "+P+" "+o+" ) || "+h+" !== "+h+") { "}else{F&&l===void 0?(w=!0,b=d,m=e.errSchemaPath+"/"+d,o=u,P+="="):(F&&(o=Math[i?"min":"max"](u,l)),u===(F?o:!0)?(w=!0,b=d,m=e.errSchemaPath+"/"+d,P+="="):(w=!1,O+="="));var _="'"+O+"'";r+=" if ( ",c&&(r+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),r+=" "+h+" "+P+" "+o+" || "+h+" !== "+h+") { "}}b=b||t;var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { comparison: "+_+", limit: "+o+", exclusive: "+w+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+O+" ",c?r+="' + "+o:r+=""+o+"'"),e.opts.verbose&&(r+=" , schema:  ",c?r+="validate.schema"+g:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var R=r;return r=I.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",v&&(r+=" else { "),r},Xe=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,d,h="data"+(f||""),c=e.opts.$data&&l&&l.$data,o;if(c?(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ",o="schema"+s):o=l,!(c||typeof l=="number"))throw new Error(t+" must be number");var i=t=="maxItems"?">":"<";r+="if ( ",c&&(r+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),r+=" "+h+".length "+i+" "+o+") { ";var d=t,u=u||[];u.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",c?r+="' + "+o+" + '":r+=""+l,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",c?r+="validate.schema"+g:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;return r=u.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},er=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,d,h="data"+(f||""),c=e.opts.$data&&l&&l.$data,o;if(c?(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ",o="schema"+s):o=l,!(c||typeof l=="number"))throw new Error(t+" must be number");var i=t=="maxLength"?">":"<";r+="if ( ",c&&(r+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),e.opts.unicode===!1?r+=" "+h+".length ":r+=" ucs2length("+h+") ",r+=" "+i+" "+o+") { ";var d=t,u=u||[];u.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",c?r+="' + "+o+" + '":r+=""+l,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",c?r+="validate.schema"+g:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;return r=u.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},rr=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,d,h="data"+(f||""),c=e.opts.$data&&l&&l.$data,o;if(c?(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ",o="schema"+s):o=l,!(c||typeof l=="number"))throw new Error(t+" must be number");var i=t=="maxProperties"?">":"<";r+="if ( ",c&&(r+=" ("+o+" !== undefined && typeof "+o+" != 'number') || "),r+=" Object.keys("+h+").length "+i+" "+o+") { ";var d=t,u=u||[];u.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",c?r+="' + "+o+" + '":r+=""+l,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",c?r+="validate.schema"+g:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;return r=u.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},Wa=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c=e.opts.$data&&l&&l.$data,o;if(c?(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ",o="schema"+s):o=l,!(c||typeof l=="number"))throw new Error(t+" must be number");r+="var division"+s+";if (",c&&(r+=" "+o+" !== undefined && ( typeof "+o+" != 'number' || "),r+=" (division"+s+" = "+h+" / "+o+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+s+" !== parseInt(division"+s+") ",r+=" ) ",c&&(r+="  )  "),r+=" ) {   ";var i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { multipleOf: "+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",c?r+="' + "+o:r+=""+o+"'"),e.opts.verbose&&(r+=" , schema:  ",c?r+="validate.schema"+g:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var d=r;return r=i.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+d+"]); ":r+=" validate.errors = ["+d+"]; return false; ":r+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},Xa=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="errs__"+s,o=e.util.copy(e);o.level++;var i="valid"+o.level;if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){o.schema=l,o.schemaPath=g,o.errSchemaPath=m,r+=" var "+c+" = errors;  ";var d=e.compositeRule;e.compositeRule=o.compositeRule=!0,o.createErrors=!1;var u;o.opts.allErrors&&(u=o.opts.allErrors,o.opts.allErrors=!1),r+=" "+e.validate(o)+" ",o.createErrors=!0,u&&(o.opts.allErrors=u),e.compositeRule=o.compositeRule=d,r+=" if ("+i+") {   ";var p=p||[];p.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var S=r;r=p.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+c+"; if (vErrors !== null) { if ("+c+") vErrors.length = "+c+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v&&(r+=" if (false) { ");return r},et=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="valid"+s,o="errs__"+s,i=e.util.copy(e),d="";i.level++;var u="valid"+i.level,p=i.baseId,S="prevValid"+s,P="passingSchemas"+s;r+="var "+o+" = errors , "+S+" = false , "+c+" = false , "+P+" = null; ";var b=e.compositeRule;e.compositeRule=i.compositeRule=!0;var $=l;if($)for(var w,D=-1,F=$.length-1;D<F;)w=$[D+=1],(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:e.util.schemaHasRules(w,e.RULES.all))?(i.schema=w,i.schemaPath=g+"["+D+"]",i.errSchemaPath=m+"/"+D,r+="  "+e.validate(i)+" ",i.baseId=p):r+=" var "+u+" = true; ",D&&(r+=" if ("+u+" && "+S+") { "+c+" = false; "+P+" = ["+P+", "+D+"]; } else { ",d+="}"),r+=" if ("+u+") { "+c+" = "+S+" = true; "+P+" = "+D+"; }";return e.compositeRule=i.compositeRule=b,r+=""+d+"if (!"+c+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { passingSchemas: "+P+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+o+"; if (vErrors !== null) { if ("+o+") vErrors.length = "+o+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},rt=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c=e.opts.$data&&l&&l.$data,o;c?(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ",o="schema"+s):o=l;var i=c?"(new RegExp("+o+"))":e.usePattern(l);r+="if ( ",c&&(r+=" ("+o+" !== undefined && typeof "+o+" != 'string') || "),r+=" !"+i+".test("+h+") ) {   ";var d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { pattern:  ",c?r+=""+o:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,c?r+="' + "+o+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",c?r+="validate.schema"+g:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var u=r;return r=d.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+u+"]); ":r+=" validate.errors = ["+u+"]; return false; ":r+=" var err = "+u+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},at=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="errs__"+s,o=e.util.copy(e),i="";o.level++;var d="valid"+o.level,u="key"+s,p="idx"+s,S=o.dataLevel=e.dataLevel+1,P="data"+S,b="dataProperties"+s,$=Object.keys(l||{}).filter(Q),w=e.schema.patternProperties||{},D=Object.keys(w).filter(Q),F=e.schema.additionalProperties,_=$.length||D.length,O=F===!1,I=typeof F=="object"&&Object.keys(F).length,R=e.opts.removeAdditional,E=O||I||R,y=e.opts.ownProperties,x=e.baseId,z=e.schema.required;if(z&&!(e.opts.$data&&z.$data)&&z.length<e.opts.loopRequired)var L=e.util.toHash(z);function Q(Nr){return Nr!=="__proto__"}if(r+="var "+c+" = errors;var "+d+" = true;",y&&(r+=" var "+b+" = undefined;"),E){if(y?r+=" "+b+" = "+b+" || Object.keys("+h+"); for (var "+p+"=0; "+p+"<"+b+".length; "+p+"++) { var "+u+" = "+b+"["+p+"]; ":r+=" for (var "+u+" in "+h+") { ",_){if(r+=" var isAdditional"+s+" = !(false ",$.length)if($.length>8)r+=" || validate.schema"+g+".hasOwnProperty("+u+") ";else{var A=$;if(A)for(var j,U=-1,K=A.length-1;U<K;)j=A[U+=1],r+=" || "+u+" == "+e.util.toQuotedString(j)+" "}if(D.length){var k=D;if(k)for(var N,ee=-1,re=k.length-1;ee<re;)N=k[ee+=1],r+=" || "+e.usePattern(N)+".test("+u+") "}r+=" ); if (isAdditional"+s+") { "}if(R=="all")r+=" delete "+h+"["+u+"]; ";else{var G=e.errorPath,ue="' + "+u+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,u,e.opts.jsonPointers)),O)if(R)r+=" delete "+h+"["+u+"]; ";else{r+=" "+d+" = false; ";var le=m;m=e.errSchemaPath+"/additionalProperties";var M=M||[];M.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { additionalProperty: '"+ue+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var q=r;r=M.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+q+"]); ":r+=" validate.errors = ["+q+"]; return false; ":r+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m=le,v&&(r+=" break; ")}else if(I)if(R=="failing"){r+=" var "+c+" = errors;  ";var ne=e.compositeRule;e.compositeRule=o.compositeRule=!0,o.schema=F,o.schemaPath=e.schemaPath+".additionalProperties",o.errSchemaPath=e.errSchemaPath+"/additionalProperties",o.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,u,e.opts.jsonPointers);var B=h+"["+u+"]";o.dataPathArr[S]=u;var C=e.validate(o);o.baseId=x,e.util.varOccurences(C,P)<2?r+=" "+e.util.varReplace(C,P,B)+" ":r+=" var "+P+" = "+B+"; "+C+" ",r+=" if (!"+d+") { errors = "+c+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+u+"]; }  ",e.compositeRule=o.compositeRule=ne}else{o.schema=F,o.schemaPath=e.schemaPath+".additionalProperties",o.errSchemaPath=e.errSchemaPath+"/additionalProperties",o.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,u,e.opts.jsonPointers);var B=h+"["+u+"]";o.dataPathArr[S]=u;var C=e.validate(o);o.baseId=x,e.util.varOccurences(C,P)<2?r+=" "+e.util.varReplace(C,P,B)+" ":r+=" var "+P+" = "+B+"; "+C+" ",v&&(r+=" if (!"+d+") break; ")}e.errorPath=G}_&&(r+=" } "),r+=" }  ",v&&(r+=" if ("+d+") { ",i+="}")}var te=e.opts.useDefaults&&!e.compositeRule;if($.length){var se=$;if(se)for(var j,he=-1,ce=se.length-1;he<ce;){j=se[he+=1];var V=l[j];if(e.opts.strictKeywords?typeof V=="object"&&Object.keys(V).length>0||V===!1:e.util.schemaHasRules(V,e.RULES.all)){var ie=e.util.getProperty(j),B=h+ie,Re=te&&V.default!==void 0;o.schema=V,o.schemaPath=g+ie,o.errSchemaPath=m+"/"+e.util.escapeFragment(j),o.errorPath=e.util.getPath(e.errorPath,j,e.opts.jsonPointers),o.dataPathArr[S]=e.util.toQuotedString(j);var C=e.validate(o);if(o.baseId=x,e.util.varOccurences(C,P)<2){C=e.util.varReplace(C,P,B);var H=B}else{var H=P;r+=" var "+P+" = "+B+"; "}if(Re)r+=" "+C+" ";else{if(L&&L[j]){r+=" if ( "+H+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(j)+"') "),r+=") { "+d+" = false; ";var G=e.errorPath,le=m,Y=e.util.escapeQuotes(j);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(G,j,e.opts.jsonPointers)),m=e.errSchemaPath+"/required";var M=M||[];M.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+Y+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+Y+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var q=r;r=M.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+q+"]); ":r+=" validate.errors = ["+q+"]; return false; ":r+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m=le,e.errorPath=G,r+=" } else { "}else v?(r+=" if ( "+H+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(j)+"') "),r+=") { "+d+" = true; } else { "):(r+=" if ("+H+" !== undefined ",y&&(r+=" &&   Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(j)+"') "),r+=" ) { ");r+=" "+C+" } "}}v&&(r+=" if ("+d+") { ",i+="}")}}if(D.length){var J=D;if(J)for(var N,He=-1,zr=J.length-1;He<zr;){N=J[He+=1];var V=w[N];if(e.opts.strictKeywords?typeof V=="object"&&Object.keys(V).length>0||V===!1:e.util.schemaHasRules(V,e.RULES.all)){o.schema=V,o.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(N),o.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(N),y?r+=" "+b+" = "+b+" || Object.keys("+h+"); for (var "+p+"=0; "+p+"<"+b+".length; "+p+"++) { var "+u+" = "+b+"["+p+"]; ":r+=" for (var "+u+" in "+h+") { ",r+=" if ("+e.usePattern(N)+".test("+u+")) { ",o.errorPath=e.util.getPathExpr(e.errorPath,u,e.opts.jsonPointers);var B=h+"["+u+"]";o.dataPathArr[S]=u;var C=e.validate(o);o.baseId=x,e.util.varOccurences(C,P)<2?r+=" "+e.util.varReplace(C,P,B)+" ":r+=" var "+P+" = "+B+"; "+C+" ",v&&(r+=" if (!"+d+") break; "),r+=" } ",v&&(r+=" else "+d+" = true; "),r+=" }  ",v&&(r+=" if ("+d+") { ",i+="}")}}}return v&&(r+=" "+i+" if ("+c+" == errors) {"),r},tt=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="errs__"+s,o=e.util.copy(e),i="";o.level++;var d="valid"+o.level;if(r+="var "+c+" = errors;",e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){o.schema=l,o.schemaPath=g,o.errSchemaPath=m;var u="key"+s,p="idx"+s,S="i"+s,P="' + "+u+" + '",b=o.dataLevel=e.dataLevel+1,$="data"+b,w="dataProperties"+s,D=e.opts.ownProperties,F=e.baseId;D&&(r+=" var "+w+" = undefined; "),D?r+=" "+w+" = "+w+" || Object.keys("+h+"); for (var "+p+"=0; "+p+"<"+w+".length; "+p+"++) { var "+u+" = "+w+"["+p+"]; ":r+=" for (var "+u+" in "+h+") { ",r+=" var startErrs"+s+" = errors; ";var _=u,O=e.compositeRule;e.compositeRule=o.compositeRule=!0;var I=e.validate(o);o.baseId=F,e.util.varOccurences(I,$)<2?r+=" "+e.util.varReplace(I,$,_)+" ":r+=" var "+$+" = "+_+"; "+I+" ",e.compositeRule=o.compositeRule=O,r+=" if (!"+d+") { for (var "+S+"=startErrs"+s+"; "+S+"<errors; "+S+"++) { vErrors["+S+"].propertyName = "+u+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { propertyName: '"+P+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+P+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),v&&(r+=" break; "),r+=" } }"}return v&&(r+=" "+i+" if ("+c+" == errors) {"),r},st=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="valid"+s,o=e.opts.$data&&l&&l.$data;o&&(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ");var i="schema"+s;if(!o)if(l.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],u=l;if(u)for(var p,S=-1,P=u.length-1;S<P;){p=u[S+=1];var b=e.schema.properties[p];b&&(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all))||(d[d.length]=p)}}else var d=l;if(o||d.length){var $=e.errorPath,w=o||d.length>=e.opts.loopRequired,D=e.opts.ownProperties;if(v)if(r+=" var missing"+s+"; ",w){o||(r+=" var "+i+" = validate.schema"+g+"; ");var F="i"+s,_="schema"+s+"["+F+"]",O="' + "+_+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr($,_,e.opts.jsonPointers)),r+=" var "+c+" = true; ",o&&(r+=" if (schema"+s+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+s+")) "+c+" = false; else {"),r+=" for (var "+F+" = 0; "+F+" < "+i+".length; "+F+"++) { "+c+" = "+h+"["+i+"["+F+"]] !== undefined ",D&&(r+=" &&   Object.prototype.hasOwnProperty.call("+h+", "+i+"["+F+"]) "),r+="; if (!"+c+") break; } ",o&&(r+="  }  "),r+="  if (!"+c+") {   ";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+O+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+O+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var R=r;r=I.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var E=d;if(E)for(var y,F=-1,x=E.length-1;F<x;){y=E[F+=1],F&&(r+=" || ");var z=e.util.getProperty(y),L=h+z;r+=" ( ( "+L+" === undefined ",D&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(y)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?y:z)+") ) "}r+=") {  ";var _="missing"+s,O="' + "+_+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr($,_,!0):$+" + "+_);var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+O+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+O+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var R=r;r=I.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(w){o||(r+=" var "+i+" = validate.schema"+g+"; ");var F="i"+s,_="schema"+s+"["+F+"]",O="' + "+_+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr($,_,e.opts.jsonPointers)),o&&(r+=" if ("+i+" && !Array.isArray("+i+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+O+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+O+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+i+" !== undefined) { "),r+=" for (var "+F+" = 0; "+F+" < "+i+".length; "+F+"++) { if ("+h+"["+i+"["+F+"]] === undefined ",D&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", "+i+"["+F+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+O+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+O+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",o&&(r+="  }  ")}else{var Q=d;if(Q)for(var y,A=-1,j=Q.length-1;A<j;){y=Q[A+=1];var z=e.util.getProperty(y),O=e.util.escapeQuotes(y),L=h+z;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath($,y,e.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",D&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(y)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+O+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+O+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=$}else v&&(r+=" if (true) {");return r},ot=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h="data"+(f||""),c="valid"+s,o=e.opts.$data&&l&&l.$data,i;if(o?(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ",i="schema"+s):i=l,(l||o)&&e.opts.uniqueItems!==!1){o&&(r+=" var "+c+"; if ("+i+" === false || "+i+" === undefined) "+c+" = true; else if (typeof "+i+" != 'boolean') "+c+" = false; else { "),r+=" var i = "+h+".length , "+c+" = true , j; if (i > 1) { ";var d=e.schema.items&&e.schema.items.type,u=Array.isArray(d);if(!d||d=="object"||d=="array"||u&&(d.indexOf("object")>=0||d.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+c+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var p="checkDataType"+(u?"s":"");r+=" if ("+e.util[p](d,"item",e.opts.strictNumbers,!0)+") continue; ",u&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+c+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",o&&(r+="  }  "),r+=" if (!"+c+") {   ";var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",o?r+="validate.schema"+g:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var P=r;r=S.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+P+"]); ":r+=" validate.errors = ["+P+"]; return false; ":r+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",v&&(r+=" else { ")}else v&&(r+=" if (true) { ");return r},lt={$ref:Ua,allOf:Ma,anyOf:Va,$comment:Ka,const:Ba,contains:ka,dependencies:Ha,enum:Ja,format:Ga,if:Ya,items:Za,maximum:We,minimum:We,maxItems:Xe,minItems:Xe,maxLength:er,minLength:er,maxProperties:rr,minProperties:rr,multipleOf:Wa,not:Xa,oneOf:et,pattern:rt,properties:at,propertyNames:tt,required:st,uniqueItems:ot,validate:cr},ar=lt,Oe=oe.toHash,nt=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=Oe(t),e.types=Oe(r),e.forEach(function(s){s.rules=s.rules.map(function(f){var l;if(typeof f=="object"){var g=Object.keys(f)[0];l=f[g],f=g,l.forEach(function(v){t.push(v),e.all[v]=!0})}t.push(f);var m=e.all[f]={keyword:f,code:ar[f],implements:l};return m}),e.all.$comment={keyword:"$comment",code:ar.$comment},s.type&&(e.types[s.type]=s)}),e.keywords=Oe(t.concat(n)),e.custom={},e},tr=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],it=function(a,e){for(var t=0;t<e.length;t++){a=JSON.parse(JSON.stringify(a));var n=e[t].split("/"),r=a,s;for(s=1;s<n.length;s++)r=r[n[s]];for(s=0;s<tr.length;s++){var f=tr[s],l=r[f];l&&(r[f]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a},ft=Be.MissingRef,ut=Fr;function Fr(a,e,t){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=s(a).then(function(){var l=n._addSchema(a,void 0,e);return l.validate||f(l)});return t&&r.then(function(l){t(null,l)},t),r;function s(l){var g=l.$schema;return g&&!n.getSchema(g)?Fr.call(n,{$ref:g},!0):Promise.resolve()}function f(l){try{return n._compile(l)}catch(m){if(m instanceof ft)return g(m);throw m}function g(m){var v=m.missingSchema;if(o(v))throw new Error("Schema "+v+" is loaded but "+m.missingRef+" cannot be resolved");var h=n._loadingSchemas[v];return h||(h=n._loadingSchemas[v]=n._opts.loadSchema(v),h.then(c,c)),h.then(function(i){if(!o(v))return s(i).then(function(){o(v)||n.addSchema(i,v,void 0,e)})}).then(function(){return f(l)});function c(){delete n._loadingSchemas[v]}function o(i){return n._refs[i]||n._schemas[i]}}}}var ht=function(e,t,n){var r=" ",s=e.level,f=e.dataLevel,l=e.schema[t],g=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,h,c="data"+(f||""),o="valid"+s,i="errs__"+s,d=e.opts.$data&&l&&l.$data,u;d?(r+=" var schema"+s+" = "+e.util.getData(l.$data,f,e.dataPathArr)+"; ",u="schema"+s):u=l;var p=this,S="definition"+s,P=p.definition,b="",$,w,D,F,_;if(d&&P.$data){_="keywordValidate"+s;var O=P.validateSchema;r+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+_+" = "+S+".validate;"}else{if(F=e.useCustomRule(p,l,e.schema,e),!F)return;u="validate.schema"+g,_=F.code,$=P.compile,w=P.inline,D=P.macro}var I=_+".errors",R="i"+s,E="ruleErr"+s,y=P.async;if(y&&!e.async)throw new Error("async keyword in sync schema");if(w||D||(r+=""+I+" = null;"),r+="var "+i+" = errors;var "+o+";",d&&P.$data&&(b+="}",r+=" if ("+u+" === undefined) { "+o+" = true; } else { ",O&&(b+="}",r+=" "+o+" = "+S+".validateSchema("+u+"); if ("+o+") { ")),w)P.statements?r+=" "+F.validate+" ":r+=" "+o+" = "+F.validate+"; ";else if(D){var x=e.util.copy(e),b="";x.level++;var z="valid"+x.level;x.schema=F.validate,x.schemaPath="";var L=e.compositeRule;e.compositeRule=x.compositeRule=!0;var Q=e.validate(x).replace(/validate\.schema/g,_);e.compositeRule=x.compositeRule=L,r+=" "+Q}else{var A=A||[];A.push(r),r="",r+="  "+_+".call( ",e.opts.passContext?r+="this":r+="self",$||P.schema===!1?r+=" , "+c+" ":r+=" , "+u+" , "+c+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var j=f?"data"+(f-1||""):"parentData",U=f?e.dataPathArr[f]:"parentDataProperty";r+=" , "+j+" , "+U+" , rootData )  ";var K=r;r=A.pop(),P.errors===!1?(r+=" "+o+" = ",y&&(r+="await "),r+=""+K+"; "):y?(I="customErrors"+s,r+=" var "+I+" = null; try { "+o+" = await "+K+"; } catch (e) { "+o+" = false; if (e instanceof ValidationError) "+I+" = e.errors; else throw e; } "):r+=" "+I+" = null; "+o+" = "+K+"; "}if(P.modifying&&(r+=" if ("+j+") "+c+" = "+j+"["+U+"];"),r+=""+b,P.valid)v&&(r+=" if (true) { ");else{r+=" if ( ",P.valid===void 0?(r+=" !",D?r+=""+z:r+=""+o):r+=" "+!P.valid+" ",r+=") { ",h=p.keyword;var A=A||[];A.push(r),r="";var A=A||[];A.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { keyword: '"+p.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+p.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var k=r;r=A.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var N=r;r=A.pop(),w?P.errors?P.errors!="full"&&(r+="  for (var "+R+"="+i+"; "+R+"<errors; "+R+"++) { var "+E+" = vErrors["+R+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+m+'"; } ',e.opts.verbose&&(r+=" "+E+".schema = "+u+"; "+E+".data = "+c+"; "),r+=" } "):P.errors===!1?r+=" "+N+" ":(r+=" if ("+i+" == errors) { "+N+" } else {  for (var "+R+"="+i+"; "+R+"<errors; "+R+"++) { var "+E+" = vErrors["+R+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+m+'"; } ',e.opts.verbose&&(r+=" "+E+".schema = "+u+"; "+E+".data = "+c+"; "),r+=" } } "):D?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { keyword: '"+p.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+p.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):P.errors===!1?r+=" "+N+" ":(r+=" if (Array.isArray("+I+")) { if (vErrors === null) vErrors = "+I+"; else vErrors = vErrors.concat("+I+"); errors = vErrors.length;  for (var "+R+"="+i+"; "+R+"<errors; "+R+"++) { var "+E+" = vErrors["+R+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+";  "+E+'.schemaPath = "'+m+'";  ',e.opts.verbose&&(r+=" "+E+".schema = "+u+"; "+E+".data = "+c+"; "),r+=" } } else { "+N+" } "),r+=" } ",v&&(r+=" else { ")}return r};const ct="http://json-schema.org/draft-07/schema#",vt="http://json-schema.org/draft-07/schema#",dt="Core schema meta-schema",mt={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},pt=["object","boolean"],gt={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Rr={$schema:ct,$id:vt,title:dt,definitions:mt,type:pt,properties:gt,default:!0};var sr=Rr,Pt={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:sr.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:sr.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},yt=/^[a-z_$][a-z0-9_$-]*$/i,Et=ht,bt=Pt,St={add:$t,get:wt,remove:_t,validate:Ne};function $t(a,e){var t=this.RULES;if(t.keywords[a])throw new Error("Keyword "+a+" is already defined");if(!yt.test(a))throw new Error("Keyword "+a+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var r=0;r<n.length;r++)f(a,n[r],e);else f(a,n,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}t.keywords[a]=t.all[a]=!0;function f(l,g,m){for(var v,h=0;h<t.length;h++){var c=t[h];if(c.type==g){v=c;break}}v||(v={type:g,rules:[]},t.push(v));var o={keyword:l,definition:m,custom:!0,code:Et,implements:m.implements};v.rules.push(o),t.custom[l]=o}return this}function wt(a){var e=this.RULES.custom[a];return e?e.definition:this.RULES.keywords[a]||!1}function _t(a){var e=this.RULES;delete e.keywords[a],delete e.all[a],delete e.custom[a];for(var t=0;t<e.length;t++)for(var n=e[t].rules,r=0;r<n.length;r++)if(n[r].keyword==a){n.splice(r,1);break}return this}function Ne(a,e){Ne.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(bt,!0);if(t(a))return!0;if(Ne.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}const Ft="http://json-schema.org/draft-07/schema#",Rt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Dt="Meta-schema for $data reference (JSON Schema extension proposal)",Ot="object",It=["$data"],xt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},jt=!1,At={$schema:Ft,$id:Rt,description:Dt,type:Ot,required:It,properties:xt,additionalProperties:jt};var Dr=Ea,ae=Ke,Lt=Ra,Or=nr,Qt=hr,zt=La,Nt=nt,Ir=it,xr=oe,jr=T;T.prototype.validate=Ct;T.prototype.compile=qt;T.prototype.addSchema=Ut;T.prototype.addMetaSchema=Mt;T.prototype.validateSchema=Vt;T.prototype.getSchema=Bt;T.prototype.removeSchema=Ht;T.prototype.addFormat=rs;T.prototype.errorsText=es;T.prototype._addSchema=Jt;T.prototype._compile=Gt;T.prototype.compileAsync=ut;var Fe=St;T.prototype.addKeyword=Fe.add;T.prototype.getKeyword=Fe.get;T.prototype.removeKeyword=Fe.remove;T.prototype.validateKeyword=Fe.validate;var Ar=Be;T.ValidationError=Ar.Validation;T.MissingRefError=Ar.MissingRef;T.$dataMetaSchema=Ir;var be="http://json-schema.org/draft-07/schema",or=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Tt=["/properties"];function T(a){if(!(this instanceof T))return new T(a);a=this._opts=xr.copy(a)||{},ns(this),this._schemas={},this._refs={},this._fragments={},this._formats=zt(a.format),this._cache=a.cache||new Lt,this._loadingSchemas={},this._compilations=[],this.RULES=Nt(),this._getId=Yt(a),a.loopRequired=a.loopRequired||1/0,a.errorDataPath=="property"&&(a._errorDataPathProperty=!0),a.serialize===void 0&&(a.serialize=Qt),this._metaOpts=ls(this),a.formats&&ss(this),a.keywords&&os(this),as(this),typeof a.meta=="object"&&this.addMetaSchema(a.meta),a.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),ts(this)}function Ct(a,e){var t;if(typeof a=="string"){if(t=this.getSchema(a),!t)throw new Error('no schema with key or ref "'+a+'"')}else{var n=this._addSchema(a);t=n.validate||this._compile(n)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}function qt(a,e){var t=this._addSchema(a,void 0,e);return t.validate||this._compile(t)}function Ut(a,e,t,n){if(Array.isArray(a)){for(var r=0;r<a.length;r++)this.addSchema(a[r],void 0,t,n);return this}var s=this._getId(a);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return e=ae.normalizeId(e||s),Qr(this,e),this._schemas[e]=this._addSchema(a,t,n,!0),this}function Mt(a,e,t){return this.addSchema(a,e,t,!0),this}function Vt(a,e){var t=a.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||Kt(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(t,a);if(!n&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return n}function Kt(a){var e=a._opts.meta;return a._opts.defaultMeta=typeof e=="object"?a._getId(e)||e:a.getSchema(be)?be:void 0,a._opts.defaultMeta}function Bt(a){var e=Lr(this,a);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return kt(this,a)}}function kt(a,e){var t=ae.schema.call(a,{schema:{}},e);if(t){var n=t.schema,r=t.root,s=t.baseId,f=Dr.call(a,n,r,void 0,s);return a._fragments[e]=new Or({ref:e,fragment:!0,schema:n,root:r,baseId:s,validate:f}),f}}function Lr(a,e){return e=ae.normalizeId(e),a._schemas[e]||a._refs[e]||a._fragments[e]}function Ht(a){if(a instanceof RegExp)return me(this,this._schemas,a),me(this,this._refs,a),this;switch(typeof a){case"undefined":return me(this,this._schemas),me(this,this._refs),this._cache.clear(),this;case"string":var e=Lr(this,a);return e&&this._cache.del(e.cacheKey),delete this._schemas[a],delete this._refs[a],this;case"object":var t=this._opts.serialize,n=t?t(a):a;this._cache.del(n);var r=this._getId(a);r&&(r=ae.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function me(a,e,t){for(var n in e){var r=e[n];!r.meta&&(!t||t.test(n))&&(a._cache.del(r.cacheKey),delete e[n])}}function Jt(a,e,t,n){if(typeof a!="object"&&typeof a!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,s=r?r(a):a,f=this._cache.get(s);if(f)return f;n=n||this._opts.addUsedSchema!==!1;var l=ae.normalizeId(this._getId(a));l&&n&&Qr(this,l);var g=this._opts.validateSchema!==!1&&!e,m;g&&!(m=l&&l==ae.normalizeId(a.$schema))&&this.validateSchema(a,!0);var v=ae.ids.call(this,a),h=new Or({id:l,schema:a,localRefs:v,cacheKey:s,meta:t});return l[0]!="#"&&n&&(this._refs[l]=h),this._cache.put(s,h),g&&m&&this.validateSchema(a,!0),h}function Gt(a,e){if(a.compiling)return a.validate=r,r.schema=a.schema,r.errors=null,r.root=e||r,a.schema.$async===!0&&(r.$async=!0),r;a.compiling=!0;var t;a.meta&&(t=this._opts,this._opts=this._metaOpts);var n;try{n=Dr.call(this,a.schema,e,a.localRefs)}catch(s){throw delete a.validate,s}finally{a.compiling=!1,a.meta&&(this._opts=t)}return a.validate=n,a.refs=n.refs,a.refVal=n.refVal,a.root=n.root,n;function r(){var s=a.validate,f=s.apply(this,arguments);return r.errors=s.errors,f}}function Yt(a){switch(a.schemaId){case"auto":return Xt;case"id":return Zt;default:return Wt}}function Zt(a){return a.$id&&this.logger.warn("schema $id ignored",a.$id),a.id}function Wt(a){return a.id&&this.logger.warn("schema id ignored",a.id),a.$id}function Xt(a){if(a.$id&&a.id&&a.$id!=a.id)throw new Error("schema $id is different from id");return a.$id||a.id}function es(a,e){if(a=a||this.errors,!a)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,r="",s=0;s<a.length;s++){var f=a[s];f&&(r+=n+f.dataPath+" "+f.message+t)}return r.slice(0,-t.length)}function rs(a,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[a]=e,this}function as(a){var e;if(a._opts.$data&&(e=At,a.addMetaSchema(e,e.$id,!0)),a._opts.meta!==!1){var t=Rr;a._opts.$data&&(t=Ir(t,Tt)),a.addMetaSchema(t,be,!0),a._refs["http://json-schema.org/schema"]=be}}function ts(a){var e=a._opts.schemas;if(e)if(Array.isArray(e))a.addSchema(e);else for(var t in e)a.addSchema(e[t],t)}function ss(a){for(var e in a._opts.formats){var t=a._opts.formats[e];a.addFormat(e,t)}}function os(a){for(var e in a._opts.keywords){var t=a._opts.keywords[e];a.addKeyword(e,t)}}function Qr(a,e){if(a._schemas[e]||a._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function ls(a){for(var e=xr.copy(a._opts),t=0;t<or.length;t++)delete e[or[t]];return e}function ns(a){var e=a._opts.logger;if(e===!1)a.logger={log:Ie,warn:Ie,error:Ie};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");a.logger=e}}function Ie(){}const is=Tr(jr),hs=qr({__proto__:null,default:is},[jr]);export{hs as a};
